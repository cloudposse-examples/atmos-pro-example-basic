name: atmos-pro-example-basic

license: APACHE2

github_repo: cloudposse-examples/atmos-pro-example-basic

description: |-
  A basic example demonstrating how to use Atmos Pro with GitHub Actions for infrastructure deployment. This repository shows the minimal configuration needed to get started with Atmos Pro workflows.

introduction: |-
  This is a basic example repository that demonstrates how to use Atmos Pro with GitHub Actions for infrastructure deployment. It provides a minimal setup to help you understand the core concepts of Atmos Pro workflows.

  For comprehensive documentation and advanced features, visit [atmos-pro.com/docs](https://atmos-pro.com/docs).

usage: |-

  This example demonstrates the minimal configuration needed to use Atmos Pro with GitHub Actions. The workflow follows these steps:

  ## On Pull Requests
  
  When a pull request is created or updated, Atmos Pro triggers `atmos terraform plan`:

  1. **Developer makes a change** - You modify your infrastructure code
  2. **Code is pushed to feature branch** - Changes are committed and pushed
  3. **GitHub Actions trigger Atmos affected stacks** - Atmos identifies which stacks are affected by your changes
  4. **Atmos uploads affected stacks** - The affected stack configurations are uploaded to Atmos Pro
  5. **Atmos Pro dispatches plan workflows** - Atmos Pro automatically runs `atmos terraform plan` for affected components
  6. **Atmos Pro updates status comment** - Results are posted as a comment on your pull request

  This gives you visibility into what changes will be made to your infrastructure before merging.

  ## On Merged Pull Requests
  
  When a pull request is merged, Atmos Pro triggers `atmos terraform apply`:

  1. **Pull request is merged** - Your changes are merged into the main branch
  2. **GitHub Actions trigger Atmos affected stacks** - Atmos identifies which stacks need to be updated
  3. **Atmos uploads affected stacks** - The affected stack configurations are uploaded to Atmos Pro
  4. **Atmos Pro dispatches apply workflows** - Atmos Pro automatically runs `atmos terraform apply` for affected components
  5. **Atmos Pro updates status comment** - Deployment results are posted as a comment on the merged PR

  This ensures your infrastructure changes are automatically deployed when code is merged.

  ## Configuration

  The minimal configuration includes:
  - `atmos.yaml` - Main Atmos configuration file
  - `.github/workflows/` - GitHub Actions workflows for plan and apply
  - `components/` - Your infrastructure components (Terraform root modules)
  - `stacks/` - Atmos stack configurations

  ## Required GitHub Variables

  You'll need to configure the following GitHub variables in your repository settings:

  - `ATMOS_PRO_WORKSPACE_ID` - Your Atmos Pro workspace ID
  - `ATMOS_VERSION` - The version of Atmos to use (e.g., `1.181.0`)
  - `ATMOS_CONFIG_PATH` - Path to your Atmos configuration file (e.g., `atmos.yaml`)

  For more detailed configuration options and advanced features, refer to the [Atmos Pro documentation](https://atmos-pro.com/docs).

contributors: []
